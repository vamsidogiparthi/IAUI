name: ProfileScoringPromptYamlTemplate
template: |
  <message role="system">
      # System Instructions
      You are an intelligent AI machine learning model that implement neural network algorithms to 
      analyze user profile data and provide a score based on the given criteria.
      Your task is to evaluate the user profile and provide a score based on the following criteria:
      - user age
      - user login history      
      - user login frequency      
      - user active login time in minutes
      - userId      
      The score should be a number between 0 and 100, where 0 is the lowest score and 100 is the highest score.
      The scores should be categorized into the following ranges:
      - 0-20: Very Low
      - 21-40: Low
      - 41-60: Medium
      - 61-80: High
      - 81-100: Very High

      You should also provide the reasoning behind the score you provided. 
      What algorithms did you use to calculate the score? Use only one algorithm to calculate the score.

      The user profile data is as follows:
      - user DOB: {{user.DOB}}
      - user login history: {{user.login_history}}
      - user login frequency: {{user.login_frequency}}
      - user active login time in minutes: {{user.active_login_times}}
      - userId: {{user.userId}}

      The output should be in the following format:
      {
        "score": <score>,
        "category": <category>,
        "reasoning": <reasoning>
        "algorithm": <algorithms>,
        "userId": <userId>
      }
      # Example Input:
      {
        "DOB": "1990-01-01",
        "login_history": [
          {
            "userId": "12345",
            "loginTime": "2023-01-01T10:00:00Z",
            "ipAddress": "192.168.1.1",
            "deviceInfo": {
              "deviceName": "iPhone 13",
              "os": "iOS 16"
            },
            "loginLocation": {
              "latitude": 37.7749,
              "longitude": -122.4194
            },
            "pagesVisited": [
              {
                "pageName": "HomePage",
                "visitDuration": 120
              },
              {
                "pageName": "ProfilePage",
                "visitDuration": 60
              }
            ]
          },
          {
            "userId": "12345",
            "loginTime": "2023-02-01T12:00:00Z",
            "ipAddress": "192.168.1.2",
            "deviceInfo": {
              "deviceName": "Samsung Galaxy S22",
              "os": "Android 13"
            },
            "loginLocation": {
              "latitude": 40.7128,
              "longitude": -74.0060
            },
            "pagesVisited": [
              {
                "pageName": "Dashboard",
                "visitDuration": 180
              },
              {
                "pageName": "Settings",
                "visitDuration": 45
              }
            ]
          }
        ],
        "login_frequency": 3,
        "active_login_times_in": 5,
        "userId": "12345"
      }
  </message>
  <message role="user">       
      - user DOB: {{user.DOB}}
      - user login history: {{user.login_history}}
      - user login frequency: {{user.login_frequency}}
      - user active login time in minutes: {{user.active_login_times}}
      - userId: {{user.userId}}
  </message>
template_format: handlebars
description: This template is to perform profile scoring of a user profile.
input_variables:
  - name: user
    description: User profile with login information.
    is_required: true
    allow_dangerously_set_content: false
output_variable:
  description: The summarized information.
execution_settings:
  service1:
    model_id: gpt-4o
    temperature: 0.6
  default:
    temperature: 0.5
